import Phaser from 'phaser'

import Assets from '@/{{ PROJECT_SRC_ASSETLIST_NAME }}'


/**
 *
 *  애니메이션 정보를 설정합니다.
 *  자세한 내용은 문서를 참고해주십시오.
 *
 *  -중급 https://phaser.io/tutorials/making-your-first-phaser-3-game/part5
 *  -중급 https://rexrainbow.github.io/phaser3-rex-notes/docs/site/animation/
 *  -고급 https://photonstorm.github.io/phaser3-docs/Phaser.Animations.Animation.html
 *
 */

// 애니메이션에 사용될 스프라이트에셋입니다.
const assetKey: string = Assets['{{ ASSET_KEY }}']

// 스프라이트에셋에서 프레임 범위를 지정합니다.
// 프레임은 0부터 시작합니다.
// 가령 10개의 프레임이 있을 경우, start: 0, end: 9가 됩니다.
const start: number = {{ START }}
const end: number = {{ END }}

// 초당 재생될 프레임 개수입니다.
const frameRate: number = {{ FRAMERATE }}

// 애니메이션이 몇 번 반복될지를 지정합니다. -1로 지정하면 무한반복합니다.
const repeat: number = {{ REPEAT }}

export default function(this: Phaser.Scene, key: string): Phaser.Types.Animations.Animation {
    return {
        key,
        frames: this.anims.generateFrameNumbers(assetKey, { start, end }),
        frameRate,
        repeat
    }
}